/* Global responsive tweaks for Bibliomanager2 */

/* Base container */
.app-main { padding: 16px; }

/* Header stacks on small screens */
@media (max-width: 640px) {
  .app-header { flex-direction: column; align-items: flex-start !important; gap: 8px; }
}

/* Navigation: allow items to fill rows evenly */
.main-nav { row-gap: 8px; --nav-pad-y: 12px; --nav-pad-x: 16px; --nav-font: 16px; --nav-minw: 160px; --nav-radius: 10px; }
.main-nav a { flex: 1 1 180px; }
@media (max-width: 640px) {
  .main-nav a { flex-basis: 48%; min-width: 140px; }
}

/* Hamburger menu behavior */
.hamburger { display: none !important; }
@media (max-width: 820px) {
  .hamburger { display: inline-block !important; }
  /* Collapse nav by default on small screens */
  .main-nav { display: none !important; gap: 6px 8px !important; --nav-pad-y: 8px; --nav-pad-x: 10px; --nav-font: 14px; --nav-minw: 120px; --nav-radius: 8px; }
  .main-nav.is-open { display: grid !important; grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .main-nav a { flex: initial; min-width: 0; }
}

/* Loan form: switch from 5 columns to 2, then 1 */
.loan-form { display: grid !important; grid-template-columns: 3fr 2fr 1fr 1fr min-content; gap: 12px; align-items: end; }
.loan-form .field { display: flex; flex-direction: column; min-width: 0; }
.loan-form .f-book { grid-column: 1 / 2; }
.loan-form .f-borrower { grid-column: 2 / 3; }
.loan-form .f-start { grid-column: 3 / 4; }
.loan-form .f-due { grid-column: 4 / 5; }
.loan-form .f-submit { grid-column: 5 / 6; justify-self: end; }
.loan-form .f-submit button { white-space: nowrap; }
@media (max-width: 1200px) {
  .loan-form { grid-template-columns: 2fr 2fr 1fr 1fr; }
  .loan-form .f-submit { grid-column: 1 / -1; justify-self: stretch; }
}
@media (max-width: 1024px) {
  .loan-form { grid-template-columns: 1fr 1fr; }
  .loan-form .f-book { grid-column: 1 / -1; }
  .loan-form .f-borrower { grid-column: 1 / -1; }
  .loan-form .f-start { grid-column: 1 / 2; }
  .loan-form .f-due { grid-column: 2 / 3; }
  .loan-form .f-submit { grid-column: 1 / -1; justify-self: stretch; }
}
@media (max-width: 640px) {
  .loan-form { grid-template-columns: 1fr; }
  .loan-form .f-book,
  .loan-form .f-borrower,
  .loan-form .f-start,
  .loan-form .f-due,
  .loan-form .f-submit { grid-column: 1 / -1; }
}

/* Panels and common elements */
.panel { background: #fff; }
.panel-title { font-size: 16px; }
.toolbar { row-gap: 6px; }
.chip { user-select: none; }

/* Add book form grid */
.add-form { display: grid !important; grid-template-columns: 3fr 3fr 2fr 2fr min-content min-content; gap: 12px; align-items: end; }
.add-form .field { display: flex; flex-direction: column; min-width: 0; }
.add-form .f-lookup button, .add-form .f-submit button { white-space: nowrap; }
.add-suggest { display: grid; gap: 6px; }
.add-suggest-row { display: grid; grid-template-columns: 1fr auto; align-items: center; }
.add-suggest-info { min-width: 0; }
@media (max-width: 1200px) {
  .add-form { grid-template-columns: 2fr 2fr 1fr 1fr; }
  .add-form .f-lookup { grid-column: 3 / 5; justify-self: end; }
  .add-form .f-submit { grid-column: 1 / 3; justify-self: start; }
}
@media (max-width: 1024px) {
  .add-form { grid-template-columns: 1fr 1fr; }
  .add-form .f-title, .add-form .f-author { grid-column: 1 / -1; }
  .add-form .f-lookup { grid-column: 1 / 2; justify-self: start; }
  .add-form .f-submit { grid-column: 2 / 3; justify-self: end; }
}
@media (max-width: 640px) {
  .add-form { grid-template-columns: 1fr; }
  .add-form .field { grid-column: 1 / -1; }
  .add-form .f-lookup, .add-form .f-submit { justify-self: stretch; }
}

/* Book list items: stack content and actions on narrow viewports */
.book-list { gap: 10px !important; }
@media (max-width: 820px) {
  .book-item { flex-direction: column; align-items: stretch !important; gap: 10px; }
  .book-actions { margin-left: 0 !important; justify-content: flex-start; }
  .book-actions button { flex: 0 1 auto; }
}

/* Hide print actions on tablet/phone to save space */
@media (max-width: 1024px) {
  .print-action { display: none !important; }
}

/* Available books grid already responsive; ensure tile min width is manageable on phones */
@media (max-width: 400px) {
  /* no-op placeholder for future fine-tuning */
}
